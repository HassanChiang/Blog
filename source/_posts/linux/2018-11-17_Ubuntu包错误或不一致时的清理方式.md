---

title: Ubuntu 包错误或不一致时的清理方式
date: 2018-11-17
description:
{: id="20201220214147-mskcm7g"}

tags:
{: id="20201220214147-lr2ibwn"}

- {: id="20201220214147-0ysxm6y"}Ubuntu
- {: id="20201220214147-hsyfycr"}包管理
{: id="20201220214147-ms64e0g"}

nav:
{: id="20201220214147-4bjm8vp"}

- {: id="20201220214147-cdy0xrj"}Linux
{: id="20201220214147-8d9w6g4"}

categories:
{: id="20201220214147-p27jz0c"}

- {: id="20201220214147-kh3o2ll"}其他
{: id="20201220214147-wwrb87i"}

image: images/linux.png
{: id="20201220214147-8v0b4m6"}

---

命令模板：
{: id="20201220214147-efggg0o"}

```
sudo mv /var/lib/dpkg/info/<packagename>.* /tmp/
sudo dpkg --remove --force-remove-reinstreq <packagename>
sudo apt-get remove <packagename>
sudo apt-get autoremove && sudo apt-get autoclean
```
{: id="20201220214147-f152oji"}

清理Docker示例：
{: id="20201220214147-74fdw3c"}

```
sudo mv /var/lib/dpkg/info/docker.* /tmp/
sudo dpkg --remove --force-remove-reinstreq docker.io
sudo apt-get remove docker docker-ce docker.io containerd.io
sudo apt-get autoremove && sudo apt-get autoclean
```
{: id="20201220214147-ii6bmfh"}

参考链接：
{: id="20201220214147-ej6rksp"}

https://askubuntu.com/questions/148715/how-to-fix-package-is-in-a-very-bad-inconsistent-state-error/510887#510887
{: id="20201220214147-10awa5k"}

https://github.com/docker/for-linux/issues/52#issuecomment-333563492
{: id="20201220214147-j3fyhg1"}


{: id="20201220214147-t1gjimz" type="doc"}
